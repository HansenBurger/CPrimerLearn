# 2 Start Learning

## 2.1 程序框架

cpp编写

```c++
    int main(void)
    {
        return 0;
    }
```

shell下执行

```bash
    g++ 1.cpp # generate .out file (compiling)
    ./1.out # run executable file
```

程序两部分:

1. 函数头(花括号外)

2. 函数体(花括号内)

函数体:

1. 函数体内的语句**必须**要有分号来表示语句结束

2. 函数体最后有一个返回语句(表示函数运行结束)

函数头:

1. 函数头类型表示返回类型("int"为整型， "return 0;"与其匹配)

2. 调用main函数的是**启动代码**(.out中包括cpp的代码和启动代码)

3. **启动代码**由操作系统调用

4. return 0 作为标识当前函数调用的状态

> main()为空， 表示不接受任何参数， void同理

补充:

1. 虽然 int main()， main()， int main(void)， void main() 同理， 还是尽量使用标准的int main() 或 int main(void)

2. C++必须包含main()函数， 通常从main()函数开始执行

3. **编写动态链接库不需要main()函数**， 因为是被调用的库， 而非程序

4. 如单片机程序等硬件， 程序执行从**地址**开始， 不需要考虑函数名

注释:

1. 作用解释程序的一部分

2. 编译器不会去执行， 从注释符号开始之后的全部

3. 一行注释: "//"， 一段注释: "/* xx */"

## 2.2 程序头文件

程序开头

```c++
    #include <iostream>
    using namespace std;
```

### 2.2.1 预处理器

#include 会在预编译的时候将iostream内的内容添加到程序， 并将原始代码文件和iostream组合复合文件传递给编译器

### 2.2.2 头文件名

对于C++的头文件需要相对于C**去掉.h**

### 2.2.3 名称空间

using为**编译指令**， 名称空间是C++的特性， 目的是为了更好使用封装好的库， 避免不同库中同名的函数冲突

> 把产品封装在名称空间单元内

```c++
    Microflop::wanda("go dancing");
    Piscine::wanda("a fish named desire"); 
```

不想在函数前加入命名空间， 则需要在头部加入这个编译指令using

```c++
    using std::cout;
    using std::endl;
```

只开放命名空间中的几个函数， 用起来更好


## 2.3 输入输出

```c++
cout << "Come up and C++ me some time.";
```

输出流 -> 从程序流出一串字符串

cout中包含 "<<" 插入运算符(把右侧信息插入到**输出流当中**)

格式: cout对象 插入运算符 字符串

> 运算符重载: C++的左移运算符和插入运算符相同， 编译器利用上下文确定

1. 控制符 "endl"

"endl" = end line， 重启一行， 屏幕光标到下一行开头

2. 换行符 "\n"

两者功能相同， 但更推荐 endl

c++ 的语句都会相对于花括号缩进， 函数与括号无空格

## 2.3.1 声明变量

C: 变量普遍声明在程序和过程的开头

C++: 可以在任意位置重新声明变量

在内存中开辟对应类型的内存空间存放变量

## 2.3.2 赋值语句

赋值从右到左可以依次进行

```c++
a = b = c = 3
```

### 2.3.3 标准输出cout

cout 会根据后面数据类型调整行为(运算符重载) **设计更加灵活**

相比于printf()更灵活， 更加好用

## 2.3.4 标准输入cin

cin 捕获输入值

> C++中标记换行符和空格可以相互替换，方便换行显示

### 2.3.5 类概念

类是用户自己定义的数据类型。

cin为istream类对象-输入流

cout为ostream类对象-输出流

C++存在有大量支持的类库， 方便使用

## 2.4 函数

### 2.4.1 有返回值的函数

sqrt(6.25) -> 函数调用

```c++
    x = sqrt(6.25); // returns the value  2.5 and assigns it to x
```

标准流程:

被调用函数(called function) -> 返回值 -> 调用函数(calling funcion)

> 函数原型相当于变量的声明

函数原型: 函数类型， 参数， 返回值

```c++
    double sqrt(double);    // Not the function head
```

函数定义: 定义一段函数(函数的代码)， 不同于函数原型

**注意**函数在被使用前需要提供函数原型或者包含头文件

补充: 对于无法定位的外部函数，命令行自动搜索

```shell
    g++ sqrt.C -lm
```

m: math

### 2.4.2 函数变体

1. 多参数函数

```c++
    double pow(double, double);
```

2. 无参数函数

```c++
    int rand(void);
```

3. 无返回函数

```c++
    void bucks(double);
```

### 2.4.3 自定义函数

基本的包括函数结构: 1.函数原型， 2.主函数， 3.定义函数。需要注意函数原型必须要写在函数调用之前， 或者直接将定义函数写在主函数之前。

对于main函数而言， int与return 0;对应， 只是**main函数return的对象为操作系统**。

关键字: 避免使用关键字定义函数和变量。

### 2.4.4 using作用域

1. 写在函数内，只作用到函数内

2. 写在全局，作用到所有的函数

3. 直接使用std::cout可以不使用命名空间